<ion-item
  [ngClass]="{
    hidden: !tarefa.ativa || (tarefa.concluida && !mostrarTarefasConcluidas),
    concluida: tarefa.concluida,
    'small-screen': isSmallScreen
  }"
  (click)="toggleHistorico()"
  (mouseleave)="mostrarHistorico = false"
>
  <ion-label>
    <ion-icon [ngClass]="{ transparente: !tarefa.concluida }" name="checkmark-outline" slot="icon-only"></ion-icon>
    {{ tarefa.descricao }}
  </ion-label>
  <section class="historico" *ngIf="mostrarHistorico && tarefa.concluida">
    <ion-card *ngFor="let log of tarefa.historico">
      <ion-card-header>
        <ion-card-title>{{ log.usuario.nome }}</ion-card-title>
        <ion-card-subtitle>{{ log.usuario.perfil }}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <div>{{ log.data | date : "dd/MM/yyyy HH:mm" }}</div>
      </ion-card-content>
    </ion-card>
  </section>
</ion-item>
